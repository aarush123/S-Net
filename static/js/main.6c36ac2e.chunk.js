(this["webpackJsonpinstagram-clone1"]=this["webpackJsonpinstagram-clone1"]||[]).push([[0],{43:function(e,t,a){},58:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(18),o=a.n(s),i=(a(58),a(12)),r=(a(43),a(20)),l=r.a.initializeApp({apiKey:"AIzaSyB_m2Fyrr3oNsSsrLtdWNeEzRdf5encLUc",authDomain:"instagram-clone-react-7fe48.firebaseapp.com",projectId:"instagram-clone-react-7fe48",storageBucket:"instagram-clone-react-7fe48.appspot.com",messagingSenderId:"996781548725",appId:"1:996781548725:web:777f526cf6ffab13c10afc",measurementId:"G-E2KHRP1RR3"}).firestore(),p=r.a.auth(),d=r.a.storage(),u=a(96),j=a(33),m=a(35),b=a(95),g=a(94),h=a(4);var f=function(e){var t=e.caption,a=e.imageURL,c=e.header,s=e.postId,o=e.signInUser,p=Object(n.useState)([]),d=Object(i.a)(p,2),f=d[0],O=d[1],_=Object(n.useState)(""),x=Object(i.a)(_,2),v=x[0],N=x[1];return Object(n.useEffect)((function(){var e;return s&&(e=l.collection("posts").doc(s).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){O(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[s]),Object(h.jsxs)("div",{className:"Post",children:[Object(h.jsxs)("div",{className:"post__header",children:[Object(h.jsx)(u.a,{alt:c,src:"F"}),Object(h.jsx)("h3",{className:"post__heading",children:c})]}),Object(h.jsx)("img",{className:"post__image",src:a,alt:a}),Object(h.jsxs)("div",{className:"post__likeSection",children:[Object(h.jsx)(j.a,{className:"post__likeIcon",icon:m.c,size:"lg"}),Object(h.jsx)(j.a,{className:"post__commentIcon",icon:m.b,size:"lg"}),Object(h.jsx)(j.a,{className:"post__shareIcon",icon:m.d,size:"lg"}),Object(h.jsx)(j.a,{className:"post__saveIcon",icon:m.a,size:"lg"})]}),Object(h.jsxs)("h4",{className:"post__username",children:[Object(h.jsx)("strong",{children:c})," ",t]}),Object(h.jsxs)("div",{className:"Post__Comments",children:[f.map((function(e){return Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:e.header})," ",e.caption]})})),o?Object(h.jsxs)("form",{className:"Post__commentInput",children:[Object(h.jsx)(b.a,{value:v,onChange:function(e){return N(e.target.value)},className:"post__comment",placeholder:"Add a Comment"}),Object(h.jsx)(g.a,{disabled:!v,className:"post__commentButton",type:"submit",onClick:function(e){e.preventDefault(),l.collection("posts").doc(s).collection("comments").add({caption:v,header:o.displayName,timestamp:r.a.firestore.FieldValue.serverTimestamp()}),N("")},children:"Post"})]}):console.log("User Not Signed in!")]})]})},O=(a(71),a(92)),_=a(93);function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var v=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),N=function(e){var t=e.header,a=Object(n.useState)(null),c=Object(i.a)(a,2),s=c[0],o=c[1],j=v(),m=Object(n.useState)(x),f=Object(i.a)(m,1)[0],O=Object(n.useState)(0),N=Object(i.a)(O,2),I=N[0],y=N[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),w=C[0],A=C[1],U=Object(n.useState)(!1),k=Object(i.a)(U,2),B=k[0],L=k[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(_.a,{open:B,onClose:function(){return L(!1)},children:Object(h.jsx)("div",{style:f,className:j.paper,children:Object(h.jsxs)("center",{children:[Object(h.jsx)("img",{className:"app__headerImage",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(h.jsxs)("form",{className:"app__signupModal",children:[Object(h.jsx)("progress",{className:"ImageUpload__uploadPost__progress",value:I,max:"100"}),Object(h.jsx)(b.a,{type:"file",onChange:function(e){e.target.files[0]&&o(e.target.files[0])}}),Object(h.jsx)(b.a,{type:"text",onChange:function(e){return A(e.target.value)},placeholder:"Enter a caption..."}),Object(h.jsx)(g.a,{type:"submit",onClick:function(e){e.preventDefault(),d.ref("images/".concat(s.name)).put(s).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);y(t)}),(function(e){alert(e.message)}),(function(){d.ref("images").child(s.name).getDownloadURL().then((function(e){l.collection("posts").add({timestamp:r.a.firestore.FieldValue.serverTimestamp(),caption:w,imageURL:e,header:t}),y(0),A(""),o(null)})),L(!1)}))},children:"Upload!"})]})]})})})}),Object(h.jsxs)("div",{className:"App__avLog App__headerImage__uploadButton",children:[Object(h.jsx)(g.a,{variant:"outlined",className:"App__signInButton",onClick:function(){return L(!0)},children:"Upload"}),Object(h.jsx)(g.a,{variant:"outlined",className:"App__signInButton",onClick:function(){return p.signOut()},children:"Logout"}),Object(h.jsx)(u.a,{alt:t,src:"s",className:"App__avatarLetter"})]})]})};function I(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var y=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},input:{display:"none"}}}));var S=function(){var e=y(),t=Object(n.useState)(I),a=Object(i.a)(t,1)[0],c=Object(n.useState)([]),s=Object(i.a)(c,2),o=s[0],d=s[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),m=j[0],O=j[1],x=Object(n.useState)(),v=Object(i.a)(x,2),S=v[0],C=v[1],w=Object(n.useState)(),A=Object(i.a)(w,2),U=A[0],k=A[1],B=Object(n.useState)(),L=Object(i.a)(B,2),P=L[0],E=L[1],R=Object(n.useState)(null),D=Object(i.a)(R,2),F=D[0],z=D[1],T=Object(n.useState)(!1),M=Object(i.a)(T,2),W=M[0],G=M[1],J=Object(n.useState)(!1),K=Object(i.a)(J,2),V=K[0],H=K[1];return Object(n.useEffect)((function(){var e=p.onAuthStateChanged((function(e){e?(console.log(e),z(e)):z(null)}));return function(){e()}}),[F,S]),Object(n.useEffect)((function(){l.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){d(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsxs)("div",{className:"app__headerImage",children:[Object(h.jsx)("img",{src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),F?Object(h.jsx)("div",{className:"App__avLog App__headerImage__uploadButton",children:""!==F.displayName?Object(h.jsx)(N,{header:F.displayName}):Object(h.jsx)("h3",{children:"NOT SIGNED IN"})}):Object(h.jsxs)("div",{className:"app__loginContainer App__headerImage__uploadButton",children:[Object(h.jsx)(g.a,{variant:"outlined",className:"App__signInButton",onClick:function(){return G(!0)},children:"Sign In"}),Object(h.jsx)(g.a,{variant:"outlined",className:"App__signUpButton",onClick:function(){return O(!0)},children:"Sign Up"})]})]})}),Object(h.jsx)(_.a,{open:m,onClose:function(){return O(!1)},children:Object(h.jsx)("div",{style:a,className:e.paper,children:Object(h.jsxs)("center",{children:[Object(h.jsx)("img",{className:"app__headerImage",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(h.jsxs)("form",{className:"app__signupModal",children:[Object(h.jsx)(b.a,{placeholder:"Username",type:"text",value:S,onChange:function(e){C(e.target.value)}}),Object(h.jsx)(b.a,{placeholder:"Email Address",type:"text",value:U,onChange:function(e){k(e.target.value)}}),Object(h.jsx)(b.a,{placeholder:"Password",type:"password",value:P,onChange:function(e){E(e.target.value)}}),Object(h.jsx)(b.a,{id:"profileImage",onChange:function(e){e.target.files[0]&&H(e.target.files[0])},type:"file"}),Object(h.jsx)("label",{for:"profileImage",children:"Upload Profile Image"}),Object(h.jsx)(g.a,{type:"submit",onClick:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(U,P).then((function(e){e.user.updateProfile({displayName:S}),r.a.storage().ref("users/"+e.user.uid+"/profile.jpg").put(V).then((function(){r.a.storage().ref("users/"+e.user.uid+"/profile.jpg").getDownloadURL().then((function(e){console.log(e)})),console.log("succcessfully uploaded profile Image")})).catch((function(e){console.log(e.message)}))})).catch((function(e){return alert(e.message)})),O(!1)},children:" Sign Up"})]})]})})}),Object(h.jsx)(_.a,{open:W,onClose:function(){return G(!1)},children:Object(h.jsx)("div",{style:a,className:e.paper,children:Object(h.jsxs)("center",{children:[Object(h.jsx)("img",{className:"app__headerImage",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(h.jsxs)("form",{className:"app__signupModal",children:[Object(h.jsx)(b.a,{placeholder:"Enter Email",type:"text",value:U,onChange:function(e){k(e.target.value)}}),Object(h.jsx)(b.a,{placeholder:"Password",type:"password",value:P,onChange:function(e){E(e.target.value)}}),Object(h.jsx)(g.a,{onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(U,P).catch((function(e){alert(e.message)})),G(!1)},type:"submit",children:"Sign In"})]})]})})}),Object(h.jsx)("div",{children:o.map((function(e){var t=e.id,a=e.post;return Object(h.jsx)(f,{signInUser:F,postId:t,header:a.header,caption:a.caption,imageURL:a.imageURL},t)}))})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),C()}},[[72,1,2]]]);
//# sourceMappingURL=main.6c36ac2e.chunk.js.map