(this["webpackJsonpinstagram-clone1"]=this["webpackJsonpinstagram-clone1"]||[]).push([[0],{60:function(e,t,n){},78:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(15),i=n.n(s),o=(n(78),n(18)),r=(n(60),n(23)),l=r.a.initializeApp({apiKey:"AIzaSyB_m2Fyrr3oNsSsrLtdWNeEzRdf5encLUc",authDomain:"instagram-clone-react-7fe48.firebaseapp.com",projectId:"instagram-clone-react-7fe48",storageBucket:"instagram-clone-react-7fe48.appspot.com",messagingSenderId:"996781548725",appId:"1:996781548725:web:777f526cf6ffab13c10afc",measurementId:"G-E2KHRP1RR3"}).firestore(),d=r.a.auth(),j=r.a.storage();r.a.analytics();var u=n(133),b=n(132),p=n(42),m=n(44),g=n(131),h=n(128),O=n(124),_=n(4);function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var f=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var v=function(e){var t=e.caption,n=e.imageURL,c=e.header,s=e.postId,i=e.signInUser,d=Object(a.useState)([]),j=Object(o.a)(d,2),O=j[0],v=j[1],N=Object(a.useState)(""),y=Object(o.a)(N,2),L=y[0],S=y[1],I=Object(a.useState)(x),E=Object(o.a)(I,1)[0],C=Object(a.useState)(!1),w=Object(o.a)(C,2),k=w[0],U=w[1],P=f();return Object(a.useEffect)((function(){var e;return s&&(e=l.collection("posts").doc(s).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){v(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[s]),Object(_.jsxs)("div",{className:"Post",children:[Object(_.jsxs)("div",{className:"post__header",children:[Object(_.jsx)(u.a,{alt:c,src:"F"}),Object(_.jsx)("h3",{className:"post__heading",children:c}),Object(_.jsx)("div",{className:"post__DeletePost",children:Object(_.jsx)(g.a,{onClick:function(){U(!0)},children:Object(_.jsx)("strong",{children:"X"})})})]}),Object(_.jsx)("img",{className:"post__image",src:n,alt:n}),Object(_.jsxs)("div",{className:"post__likeSection",children:[Object(_.jsx)(p.a,{className:"post__likeIcon",icon:m.c,size:"lg"}),Object(_.jsx)(p.a,{className:"post__commentIcon",icon:m.b,size:"lg"}),Object(_.jsx)(p.a,{className:"post__shareIcon",icon:m.d,size:"lg"}),Object(_.jsx)(p.a,{className:"post__saveIcon",icon:m.a,size:"lg"})]}),Object(_.jsxs)("h4",{className:"post__username",children:[Object(_.jsx)("strong",{children:c})," ",t]}),Object(_.jsxs)("div",{className:"Post__Comments",children:[O.map((function(e){return Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:e.header})," ",e.caption]})})),i?Object(_.jsxs)("form",{className:"Post__commentInput",children:[Object(_.jsx)(h.a,{value:L,onChange:function(e){return S(e.target.value)},className:"post__comment",placeholder:"Add a Comment"}),Object(_.jsx)(g.a,{disabled:!L,className:"post__commentButton",type:"submit",onClick:function(e){e.preventDefault(),l.collection("posts").doc(s).collection("comments").add({caption:L,header:i.displayName,timestamp:r.a.firestore.FieldValue.serverTimestamp()}),S("")},children:"Post"})]}):console.log("User Not Signed in!"),Object(_.jsx)(b.a,{open:k,onClose:function(){return U(!1)},children:Object(_.jsx)("div",{style:E,className:P.paper,children:Object(_.jsxs)("center",{children:[Object(_.jsx)("img",{className:"app__headerImage",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsxs)("form",{children:[Object(_.jsx)("p",{children:"Do you want to delete this post?"}),Object(_.jsxs)("div",{className:"Post__deleteModalRow",children:[Object(_.jsx)(g.a,{onClick:function(e){e.stopPropagation(),l.collection("posts").doc(s).delete()},children:"Yes"}),Object(_.jsx)(g.a,{onClick:function(){U(!1)},children:"No"})]})]})]})})})]})]})};n(91);function N(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var y=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),L=function(e){var t=e.header,n=Object(a.useState)(null),c=Object(o.a)(n,2),s=c[0],i=c[1],p=y(),m=Object(a.useState)(N),O=Object(o.a)(m,1)[0],x=Object(a.useState)(0),f=Object(o.a)(x,2),v=f[0],L=f[1],S=Object(a.useState)(""),I=Object(o.a)(S,2),E=I[0],C=I[1],w=Object(a.useState)(!1),k=Object(o.a)(w,2),U=k[0],P=k[1];return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsx)(b.a,{open:U,onClose:function(){return P(!1)},children:Object(_.jsx)("div",{style:O,className:p.paper,children:Object(_.jsxs)("center",{children:[Object(_.jsx)("img",{className:"app__headerImage",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsxs)("form",{className:"app__signupModal",children:[Object(_.jsx)("progress",{className:"ImageUpload__uploadPost__progress",value:v,max:"100"}),Object(_.jsx)(h.a,{type:"file",onChange:function(e){e.target.files[0]&&i(e.target.files[0])}}),Object(_.jsx)(h.a,{type:"text",onChange:function(e){return C(e.target.value)},placeholder:"Enter a caption..."}),Object(_.jsx)(g.a,{type:"submit",onClick:function(e){e.preventDefault(),j.ref("images/".concat(s.name)).put(s).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);L(t)}),(function(e){alert(e.message)}),(function(){j.ref("images").child(s.name).getDownloadURL().then((function(e){l.collection("posts").add({timestamp:r.a.firestore.FieldValue.serverTimestamp(),caption:E,imageURL:e,header:t}),L(0),C(""),i(null)})),P(!1)}))},children:"Upload!"})]})]})})})}),Object(_.jsxs)("div",{className:"App__avLog App__headerImage__uploadButton",children:[Object(_.jsx)(g.a,{variant:"outlined",className:"App__signInButton",onClick:function(){return P(!0)},children:"Upload"}),Object(_.jsx)(g.a,{variant:"outlined",className:"App__signInButton",onClick:function(){return d.signOut()},children:"Logout"}),Object(_.jsx)(u.a,{alt:t,src:"f",className:"App__avatarLetter"})]})]})},S=(n(92),n(129)),I=n(130),E=(n(93),Object(O.a)((function(e){return{button:{margin:e.spacing(1)}}})),function(e){return Object(_.jsx)("div",{className:"flex__container",children:Object(_.jsxs)("div",{className:"flex__item",children:[Object(_.jsx)(S.a,{className:"LoginEntry__card",variant:"outlined",children:Object(_.jsxs)("div",{className:"LoginEntry__card__content",children:[Object(_.jsx)("img",{className:"LoginEntry__logo",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsx)(I.a,{size:"small",onChange:function(t){return e.username(t.target.value)},className:"LoginEntry__username",id:"outlined-basic",label:"Username",placeholder:"Enter Username",variant:"outlined"}),Object(_.jsx)(I.a,{onChange:function(t){return e.password(t.target.value)},size:"small",className:"LoginEntry__password",id:"outlined-basic",label:"Password",placeholder:"Enter Password",type:"password",variant:"outlined"}),Object(_.jsx)(I.a,{onChange:function(t){return e.email(t.target.value)},size:"small",className:"LoginEntry__password",id:"outlined-basic",label:"Email",placeholder:"Enter Email Address",variant:"outlined"}),Object(_.jsx)(g.a,{onClick:e.signUp,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SubmitBtn",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign Up"})})}),Object(_.jsxs)("div",{className:"LoginEntry__HRS",children:[Object(_.jsx)("hr",{className:"LoginEntry__hr1"}),Object(_.jsx)("p",{className:"LoginEntryMIDor",children:"OR"}),Object(_.jsx)("hr",{className:"LoginEntry__hr2"})]}),Object(_.jsx)("div",{children:Object(_.jsx)(g.a,{onClick:e.loginOnSignInModal,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SignInBtn__Mob",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign In"})})})})]})}),Object(_.jsx)(S.a,{className:"LT__card",variant:"outlined",children:Object(_.jsx)("div",{className:"LT__cardContent",children:Object(_.jsxs)("p",{children:["Have an account?",Object(_.jsx)(g.a,{onClick:e.loginOnSignInModal,className:"LT__card__LoginLink",children:Object(_.jsx)("strong",{children:"Log In"})})]})})})]})})}),C=(n(95),function(e){return Object(_.jsx)("div",{className:"flex__container",children:Object(_.jsxs)("div",{className:"flex__item",children:[Object(_.jsx)(S.a,{className:"LoginEntry__card",variant:"outlined",children:Object(_.jsxs)("div",{className:"LoginEntry__card__content",children:[Object(_.jsx)("img",{className:"LoginEntry__logo",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsx)(I.a,{onChange:function(t){return e.email(t.target.value)},size:"small",className:"LoginEntry__username",id:"outlined-basic",label:"Email",variant:"outlined"}),Object(_.jsx)(I.a,{onChange:function(t){return e.password(t.target.value)},size:"small",className:"LoginEntry__password",id:"outlined-basic",label:"Password",type:"password",variant:"outlined"}),Object(_.jsx)(g.a,{onClick:e.signIn,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SubmitBtn",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign In"})})}),Object(_.jsxs)("div",{className:"LoginEntry__HRS",children:[Object(_.jsx)("hr",{className:"LoginEntry__hr1"}),Object(_.jsx)("p",{className:"LoginEntryMIDor",children:"OR"}),Object(_.jsx)("hr",{className:"LoginEntry__hr2"})]}),Object(_.jsx)("div",{children:Object(_.jsx)(g.a,{onClick:e.signupOnSignIn,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SignInBtn__Mob",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign Up!"})})})})]})}),Object(_.jsx)(S.a,{className:"LT__card",variant:"outlined",children:Object(_.jsx)("div",{className:"LT__cardContent",children:Object(_.jsxs)("p",{children:["Don't have an account? ",Object(_.jsx)(g.a,{onClick:e.signupOnSignIn,className:"LT__card__LoginLink",children:Object(_.jsx)("strong",{children:"Sign Up"})})," "]})})})]})})});var w=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(),i=Object(o.a)(s,2),r=i[0],j=i[1],u=Object(a.useState)(),b=Object(o.a)(u,2),p=b[0],m=b[1],g=Object(a.useState)(),h=Object(o.a)(g,2),O=h[0],x=h[1],f=Object(a.useState)(null),N=Object(o.a)(f,2),y=N[0],S=N[1],I=Object(a.useState)(!1),w=Object(o.a)(I,2),k=(w[0],w[1]),U=Object(a.useState)(!1),P=Object(o.a)(U,2),A=P[0],B=P[1];return Object(a.useEffect)((function(){var e=d.onAuthStateChanged((function(e){S(e||null)}));return function(){e()}}),[y,r]),Object(a.useEffect)((function(){l.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){c(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("header",{className:"App-header",children:y?Object(_.jsxs)("div",{className:"app__headerImage",children:[Object(_.jsx)("img",{src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsx)("div",{className:"App__avLog App__headerImage__uploadButton",children:""!==y.displayName?Object(_.jsx)(L,{header:y.displayName}):Object(_.jsx)("h3",{children:"NOT SIGNED IN"})})]}):Object(_.jsx)("div",{children:A?Object(_.jsx)(C,{email:function(e){m(e)},password:function(e){x(e)},signIn:function(e){e.preventDefault(),d.signInWithEmailAndPassword(p,O).catch((function(e){alert(e.message)})),k(!1)},signupOnSignIn:function(e){e.preventDefault(),B(!1)}}):Object(_.jsx)(E,{username:function(e){j(e)},email:function(e){m(e)},password:function(e){x(e)},signUp:function(e){e.preventDefault(),d.createUserWithEmailAndPassword(p,O).then((function(e){e.user.updateProfile({displayName:r})})).catch((function(e){return alert(e.message)}))},loginOnSignInModal:function(e){e.preventDefault(),B(!0)}})})}),y?Object(_.jsx)("div",{children:n.map((function(e){var t=e.id,n=e.post;return Object(_.jsx)(v,{signInUser:y,postId:t,header:n.header,caption:n.caption,imageURL:n.imageURL},t)}))}):null]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(w,{})}),document.getElementById("root")),k()}},[[96,1,2]]]);
//# sourceMappingURL=main.a43ee939.chunk.js.map