(this["webpackJsonpinstagram-clone1"]=this["webpackJsonpinstagram-clone1"]||[]).push([[0],{59:function(e,t,n){},78:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(15),i=n.n(c),o=(n(78),n(19)),r=(n(59),n(24)),l=r.a.initializeApp({apiKey:"AIzaSyB_m2Fyrr3oNsSsrLtdWNeEzRdf5encLUc",authDomain:"instagram-clone-react-7fe48.firebaseapp.com",projectId:"instagram-clone-react-7fe48",storageBucket:"instagram-clone-react-7fe48.appspot.com",messagingSenderId:"996781548725",appId:"1:996781548725:web:777f526cf6ffab13c10afc",measurementId:"G-E2KHRP1RR3"}).firestore(),d=r.a.auth(),j=r.a.storage(),u=n(132),m=n(42),p=n(44),b=n(126),g=n(130),_=n(4);var h=function(e){var t=e.caption,n=e.imageURL,s=e.header,c=e.postId,i=e.signInUser,d=Object(a.useState)([]),j=Object(o.a)(d,2),h=j[0],O=j[1],f=Object(a.useState)(""),x=Object(o.a)(f,2),v=x[0],N=x[1];return Object(a.useEffect)((function(){var e;return c&&(e=l.collection("posts").doc(c).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){O(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[c]),Object(_.jsxs)("div",{className:"Post",children:[Object(_.jsxs)("div",{className:"post__header",children:[Object(_.jsx)(u.a,{alt:s,src:"F"}),Object(_.jsx)("h3",{className:"post__heading",children:s})]}),Object(_.jsx)("img",{className:"post__image",src:n,alt:n}),Object(_.jsxs)("div",{className:"post__likeSection",children:[Object(_.jsx)(m.a,{className:"post__likeIcon",icon:p.c,size:"lg"}),Object(_.jsx)(m.a,{className:"post__commentIcon",icon:p.b,size:"lg"}),Object(_.jsx)(m.a,{className:"post__shareIcon",icon:p.d,size:"lg"}),Object(_.jsx)(m.a,{className:"post__saveIcon",icon:p.a,size:"lg"})]}),Object(_.jsxs)("h4",{className:"post__username",children:[Object(_.jsx)("strong",{children:s})," ",t]}),Object(_.jsxs)("div",{className:"Post__Comments",children:[h.map((function(e){return Object(_.jsxs)("p",{children:[Object(_.jsx)("b",{children:e.header})," ",e.caption]})})),i?Object(_.jsxs)("form",{className:"Post__commentInput",children:[Object(_.jsx)(b.a,{value:v,onChange:function(e){return N(e.target.value)},className:"post__comment",placeholder:"Add a Comment"}),Object(_.jsx)(g.a,{disabled:!v,className:"post__commentButton",type:"submit",onClick:function(e){e.preventDefault(),l.collection("posts").doc(c).collection("comments").add({caption:v,header:i.displayName,timestamp:r.a.firestore.FieldValue.serverTimestamp()}),N("")},children:"Post"})]}):console.log("User Not Signed in!")]})]})},O=(n(91),n(127)),f=n(131);function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var v=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),N=function(e){var t=e.header,n=Object(a.useState)(null),s=Object(o.a)(n,2),c=s[0],i=s[1],m=v(),p=Object(a.useState)(x),h=Object(o.a)(p,1)[0],O=Object(a.useState)(0),N=Object(o.a)(O,2),y=N[0],L=N[1],S=Object(a.useState)(""),I=Object(o.a)(S,2),E=I[0],C=I[1],w=Object(a.useState)(!1),k=Object(o.a)(w,2),U=k[0],A=k[1];return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsx)(f.a,{open:U,onClose:function(){return A(!1)},children:Object(_.jsx)("div",{style:h,className:m.paper,children:Object(_.jsxs)("center",{children:[Object(_.jsx)("img",{className:"app__headerImage",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsxs)("form",{className:"app__signupModal",children:[Object(_.jsx)("progress",{className:"ImageUpload__uploadPost__progress",value:y,max:"100"}),Object(_.jsx)(b.a,{type:"file",onChange:function(e){e.target.files[0]&&i(e.target.files[0])}}),Object(_.jsx)(b.a,{type:"text",onChange:function(e){return C(e.target.value)},placeholder:"Enter a caption..."}),Object(_.jsx)(g.a,{type:"submit",onClick:function(e){e.preventDefault(),j.ref("images/".concat(c.name)).put(c).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);L(t)}),(function(e){alert(e.message)}),(function(){j.ref("images").child(c.name).getDownloadURL().then((function(e){l.collection("posts").add({timestamp:r.a.firestore.FieldValue.serverTimestamp(),caption:E,imageURL:e,header:t}),L(0),C(""),i(null)})),A(!1)}))},children:"Upload!"})]})]})})})}),Object(_.jsxs)("div",{className:"App__avLog App__headerImage__uploadButton",children:[Object(_.jsx)(g.a,{variant:"outlined",className:"App__signInButton",onClick:function(){return A(!0)},children:"Upload"}),Object(_.jsx)(g.a,{variant:"outlined",className:"App__signInButton",onClick:function(){return d.signOut()},children:"Logout"}),Object(_.jsx)(u.a,{alt:t,src:"f",className:"App__avatarLetter"})]})]})},y=(n(92),n(128)),L=n(129),S=(Object(O.a)((function(e){return{button:{margin:e.spacing(1)}}})),function(e){return console.log(e),Object(_.jsx)("div",{className:"flex__container",children:Object(_.jsxs)("div",{className:"flex__item",children:[Object(_.jsx)(y.a,{className:"LoginEntry__card",variant:"outlined",children:Object(_.jsxs)("div",{className:"LoginEntry__card__content",children:[Object(_.jsx)("img",{className:"LoginEntry__logo",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsx)(L.a,{size:"small",onChange:function(t){return e.username(t.target.value)},className:"LoginEntry__username",id:"outlined-basic",label:"Username",placeholder:"Enter Username",variant:"outlined"}),Object(_.jsx)(L.a,{onChange:function(t){return e.password(t.target.value)},size:"small",className:"LoginEntry__password",id:"outlined-basic",label:"Password",placeholder:"Enter Password",type:"password",variant:"outlined"}),Object(_.jsx)(L.a,{onChange:function(t){return e.email(t.target.value)},size:"small",className:"LoginEntry__password",id:"outlined-basic",label:"Email",placeholder:"Enter Email Address",variant:"outlined"}),Object(_.jsx)(g.a,{onClick:e.signUp,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SubmitBtn",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign Up"})})}),Object(_.jsxs)("div",{className:"LoginEntry__HRS",children:[Object(_.jsx)("hr",{className:"LoginEntry__hr1"}),Object(_.jsx)("p",{className:"LoginEntryMIDor",children:"OR"}),Object(_.jsx)("hr",{className:"LoginEntry__hr2"})]}),Object(_.jsx)("div",{children:Object(_.jsx)(g.a,{onClick:e.loginOnSignInModal,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SignInBtn__Mob",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign In"})})})})]})}),Object(_.jsx)(y.a,{className:"LT__card",variant:"outlined",children:Object(_.jsx)("div",{className:"LT__cardContent",children:Object(_.jsxs)("p",{children:["Have an account?",Object(_.jsx)(g.a,{onClick:e.loginOnSignInModal,className:"LT__card__LoginLink",children:Object(_.jsx)("strong",{children:"Log In"})})]})})})]})})}),I=(n(94),function(e){return console.log(e),Object(_.jsx)("div",{className:"flex__container",children:Object(_.jsxs)("div",{className:"flex__item",children:[Object(_.jsx)(y.a,{className:"LoginEntry__card",variant:"outlined",children:Object(_.jsxs)("div",{className:"LoginEntry__card__content",children:[Object(_.jsx)("img",{className:"LoginEntry__logo",src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsx)(L.a,{onChange:function(t){return e.email(t.target.value)},size:"small",className:"LoginEntry__username",id:"outlined-basic",label:"Email",variant:"outlined"}),Object(_.jsx)(L.a,{onChange:function(t){return e.password(t.target.value)},size:"small",className:"LoginEntry__password",id:"outlined-basic",label:"Password",type:"password",variant:"outlined"}),Object(_.jsx)(g.a,{onClick:e.signIn,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SubmitBtn",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign In"})})}),Object(_.jsxs)("div",{className:"LoginEntry__HRS",children:[Object(_.jsx)("hr",{className:"LoginEntry__hr1"}),Object(_.jsx)("p",{className:"LoginEntryMIDor",children:"OR"}),Object(_.jsx)("hr",{className:"LoginEntry__hr2"})]}),Object(_.jsx)("div",{children:Object(_.jsx)(g.a,{onClick:e.signupOnSignIn,variant:"contained",style:{backgroundColor:"#0095F6"},className:"LoginEntry__SignInBtn__Mob",children:Object(_.jsx)("span",{style:{color:"white"},children:Object(_.jsx)("strong",{children:"Sign Up!"})})})})]})}),Object(_.jsx)(y.a,{className:"LT__card",variant:"outlined",children:Object(_.jsx)("div",{className:"LT__cardContent",children:Object(_.jsxs)("p",{children:["Don't have an account? ",Object(_.jsx)(g.a,{onClick:e.signupOnSignIn,className:"LT__card__LoginLink",children:Object(_.jsx)("strong",{children:"Sign Up"})})," "]})})})]})})});Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},input:{display:"none"}}}));var E=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(),i=Object(o.a)(c,2),r=i[0],j=i[1],u=Object(a.useState)(),m=Object(o.a)(u,2),p=m[0],b=m[1],g=Object(a.useState)(),O=Object(o.a)(g,2),f=O[0],x=O[1],v=Object(a.useState)(null),y=Object(o.a)(v,2),L=y[0],E=y[1],C=Object(a.useState)(!1),w=Object(o.a)(C,2),k=(w[0],w[1]),U=Object(a.useState)(!1),A=Object(o.a)(U,2),B=A[0],P=A[1];return Object(a.useEffect)((function(){var e=d.onAuthStateChanged((function(e){e?(console.log(e),E(e)):E(null)}));return function(){e()}}),[L,r]),Object(a.useEffect)((function(){l.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("header",{className:"App-header",children:L?Object(_.jsxs)("div",{className:"app__headerImage",children:[Object(_.jsx)("img",{src:"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(_.jsx)("div",{className:"App__avLog App__headerImage__uploadButton",children:""!==L.displayName?Object(_.jsx)(N,{header:L.displayName}):Object(_.jsx)("h3",{children:"NOT SIGNED IN"})})]}):Object(_.jsx)("div",{children:B?Object(_.jsx)(I,{email:function(e){b(e)},password:function(e){x(e)},signIn:function(e){e.preventDefault(),d.signInWithEmailAndPassword(p,f).catch((function(e){alert(e.message)})),k(!1)},signupOnSignIn:function(e){e.preventDefault(),P(!1)}}):Object(_.jsx)(S,{username:function(e){j(e)},email:function(e){b(e)},password:function(e){x(e)},signUp:function(e){e.preventDefault(),d.createUserWithEmailAndPassword(p,f).then((function(e){e.user.updateProfile({displayName:r})})).catch((function(e){return alert(e.message)}))},loginOnSignInModal:function(e){e.preventDefault(),P(!0)}})})}),L?Object(_.jsx)("div",{children:n.map((function(e){var t=e.id,n=e.post;return Object(_.jsx)(h,{signInUser:L,postId:t,header:n.header,caption:n.caption,imageURL:n.imageURL},t)}))}):null]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(E,{})}),document.getElementById("root")),C()}},[[95,1,2]]]);
//# sourceMappingURL=main.b49cbf5a.chunk.js.map