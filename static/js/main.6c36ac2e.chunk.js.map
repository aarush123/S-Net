{"version":3,"sources":["Firebase.js","Post.js","ImageUpload.js","App.js","reportWebVitals.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Post","caption","imageURL","header","postId","signInUser","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","className","Avatar","alt","src","icon","faHeart","size","faComments","faShare","faCloudDownloadAlt","Input","value","onChange","e","target","placeholder","Button","disabled","type","onClick","event","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","console","log","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","ImageUpload","image","setImage","classes","modalStyle","progress","setProgress","setCaption","uploadPost","setUploadPost","Modal","open","onClose","style","max","files","ref","name","put","on","Math","round","bytesTransferred","totalBytes","error","alert","message","child","getDownloadURL","then","url","variant","signOut","input","display","App","posts","setPosts","setOpen","username","setUsername","email","setEmail","password","setPassword","user","setUser","userSignIn","setUserSignIn","onAuthStateChanged","authUser","id","post","for","createUserWithEmailAndPassword","updateProfile","uid","catch","err","signInWithEmailAndPassword","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sQAWMA,EAVcC,IAASC,cAAc,CACvCC,OAAQ,0CACRC,WAAY,8CACZC,UAAW,8BACXC,cAAe,0CACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGIC,YACjBC,EAAOV,IAASU,OAChBC,EAAUX,IAASW,U,+CCiEVC,MArEf,YAA8D,IAA/CC,EAA8C,EAA9CA,QAASC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,OAAOC,EAAoB,EAApBA,OAAOC,EAAa,EAAbA,WAC5C,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KA0BI,OAhBJC,qBAAU,WACN,IAAIC,EAWJ,OAVGR,IACCQ,EAAczB,EACb0B,WAAW,SACXC,IAAIV,GACJS,WAAW,YACXE,QAAQ,YAAa,OACrBC,YAAW,SAACC,GACTT,EAAYS,EAASC,KAAKC,KAAI,SAAAL,GAAG,OAAGA,EAAIM,eAGzC,WACHR,OAEL,CAACR,IAEA,sBAAKiB,UAAU,OAAf,UACI,sBAAKA,UAAY,eAAjB,UAEI,cAACC,EAAA,EAAD,CAAQC,IAAKpB,EAAQqB,IAAI,MAAK,oBAAIH,UAAY,gBAAhB,SAAiClB,OAGnE,qBAAKkB,UAAY,cAAaG,IAAKtB,EAAUqB,IAAKrB,IAClD,sBAAKmB,UAAU,oBAAf,UACI,cAAC,IAAD,CAAiBA,UAAU,iBAAgBI,KAAMC,IAASC,KAAK,OAC/D,cAAC,IAAD,CAAiBN,UAAU,oBAAmBI,KAAMG,IAAYD,KAAK,OACrE,cAAC,IAAD,CAAiBN,UAAU,kBAAiBI,KAAMI,IAASF,KAAK,OAChE,cAAC,IAAD,CAAiBN,UAAU,iBAAiBI,KAAMK,IAAoBH,KAAK,UAG/E,qBAAIN,UAAU,iBAAd,UAA+B,iCAASlB,IAAxC,IAA0DF,KAC1D,sBAAKoB,UAAU,iBAAf,UACCd,EAASY,KAAI,SAACV,GAAD,OACN,8BACI,4BAAIA,EAAQN,SADhB,IAC6BM,EAAQR,cAI5CI,EACD,uBAAMgB,UAAU,qBAAhB,UACA,cAACU,EAAA,EAAD,CAAOC,MAAOvB,EAASwB,SAAU,SAACC,GAAD,OAAKxB,EAAWwB,EAAEC,OAAOH,QAAQX,UAAU,gBAAee,YAAY,kBACvG,cAACC,EAAA,EAAD,CACIC,UAAW7B,EACXY,UAAU,sBACVkB,KAAK,SACLC,QAvDQ,SAACC,GACbA,EAAMC,iBACNvD,EAAG0B,WAAW,SAASC,IAAIV,GAAQS,WAAW,YAAY8B,IAAI,CAC9D1C,QAASQ,EACTN,OAAQE,EAAWuC,YACnBC,UAAWzD,IAASS,UAAUiD,WAAWC,oBAE7CrC,EAAW,KA4CP,qBASCsC,QAAQC,IAAI,8B,wBC7DzB,SAASC,IAIL,MAAO,CACLC,IAAI,GAAD,OAJO,GAIP,KACHC,KAAK,GAAD,OAJO,GAIP,KACJC,UAAU,cAAD,OANC,GAMD,eALE,GAKF,OAIb,IAAMC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,SAAU,WACVC,MAAO,IACPC,gBAAiBJ,EAAMK,QAAQC,WAAWL,MAC1CM,OAAQ,iBACRC,UAAWR,EAAMS,QAAQ,GACzBC,QAASV,EAAMW,QAAQ,EAAG,EAAG,QAgFpBC,EA7EK,SAAC,GAAc,IAAbjE,EAAY,EAAZA,OAElB,EAA0BG,mBAAS,MAAnC,mBAAO+D,EAAP,KAAcC,EAAd,KACMC,EAAUjB,IAChB,EAAqBhD,mBAAS4C,GAAvBsB,EAAP,oBACA,EAAgClE,mBAAS,GAAzC,mBAAOmE,EAAP,KAAiBC,EAAjB,KACA,EAA8BpE,mBAAS,IAAvC,mBAAOL,EAAP,KAAgB0E,EAAhB,KACA,EAAoCrE,oBAAS,GAA7C,mBAAOsE,EAAP,KAAmBC,EAAnB,KAwCA,OACC,gCACG,8BACI,cAACC,EAAA,EAAD,CACIC,KAAQH,EACRI,QAAW,kBAAIH,GAAc,IAFjC,SAGI,qBAAKI,MAAQT,EAAYnD,UAAWkD,EAAQd,MAA5C,SACI,mCACA,qBAAKpC,UAAY,mBAAmBG,IAAI,oFAAoFD,IAAI,KAChI,uBAAMF,UAAY,mBAAlB,UAGI,0BAAUA,UAAU,oCAAoCW,MAAOyC,EAAUS,IAAI,QAC7E,cAACnD,EAAA,EAAD,CAAOQ,KAAK,OAAON,SAlDlB,SAACC,GACfA,EAAEC,OAAOgD,MAAM,IACdb,EAASpC,EAAEC,OAAOgD,MAAM,OAiDZ,cAACpD,EAAA,EAAD,CAAOQ,KAAK,OAAMN,SAAY,SAAAQ,GAAK,OAAIkC,EAAWlC,EAAMN,OAAOH,QAAQI,YAAa,uBACpF,cAACC,EAAA,EAAD,CAAQE,KAAK,SAAQC,QA/CpB,SAACN,GAClBA,EAAEQ,iBACiB3C,EAAQqF,IAAR,iBAAsBf,EAAMgB,OAAQC,IAAIjB,GAChDkB,GACP,iBACA,SAACtE,GACG,IAAMwD,EAAWe,KAAKC,MAAOxE,EAASyE,iBAAmBzE,EAAS0E,WAAc,KAChFjB,EAAYD,MACb,SAACmB,GACAC,MAAMD,EAAME,YACb,WACC/F,EACCqF,IAAI,UACJW,MAAM1B,EAAMgB,MACZW,iBACAC,MAAK,SAAAC,GAEF/G,EAAG0B,WAAW,SAAS8B,IAAI,CACvBE,UAAWzD,IAASS,UAAUiD,WAAWC,kBACzC9C,QAASA,EACTC,SAAUgG,EACV/F,OAAQA,IAEZuE,EAAY,GACZC,EAAW,IACXL,EAAS,SAEbO,GAAc,OAoBN,iCAMhB,sBAAKxD,UAAU,4CAAf,UACI,cAACgB,EAAA,EAAD,CAAQ8D,QAAQ,WAAW9E,UAAU,oBAAoBmB,QAAS,kBAAIqC,GAAc,IAApF,oBACA,cAACxC,EAAA,EAAD,CAAQ8D,QAAQ,WAAW9E,UAAU,oBAAoBmB,QAAW,kBAAM1C,EAAKsG,WAA/E,oBACA,cAAC9E,EAAA,EAAD,CAAQC,IAAKpB,EAAQqB,IAAI,IAAGH,UAAU,6BC3FlD,SAAS6B,IAIP,MAAO,CACLC,IAAI,GAAD,OAJO,GAIP,KACHC,KAAK,GAAD,OAJO,GAIP,KACJC,UAAU,cAAD,OANC,GAMD,eALE,GAKF,OAiBb,IAAMC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,SAAU,WACVC,MAAO,IACPC,gBAAiBJ,EAAMK,QAAQC,WAAWL,MAC1CM,OAAQ,iBACRC,UAAWR,EAAMS,QAAQ,GACzBC,QAASV,EAAMW,QAAQ,EAAG,EAAG,IAE/BkC,MAAO,CACLC,QAAS,YAsLEC,MAnLf,WACE,IAAMhC,EAAUjB,IAChB,EAAqBhD,mBAAS4C,GAAvBsB,EAAP,oBACA,EAA2BlE,mBAAS,IAApC,mBAAOkG,EAAP,KAAcC,EAAd,KACA,EAAwBnG,oBAAS,GAAjC,mBAAOyE,EAAP,KAAa2B,EAAb,KACA,EAAgCpG,qBAAhC,mBAAOqG,EAAP,KAAiBC,EAAjB,KACA,EAA0BtG,qBAA1B,mBAAOuG,EAAP,KAAcC,EAAd,KACA,EAAgCxG,qBAAhC,mBAAOyG,EAAP,KAAiBC,EAAjB,KACA,EAAwB1G,mBAAS,MAAjC,mBAAO2G,EAAP,KAAaC,EAAb,KACA,EAAoC5G,oBAAS,GAA7C,mBAAO6G,EAAP,KAAmBC,EAAnB,KACA,EAA0B9G,oBAAS,GAAnC,mBAAO+D,EAAP,KAAcC,EAAd,KA8FA,OA3FA3D,qBAAU,WACR,IAAMC,EAAcd,EAAKuH,oBAAmB,SAACC,GACxCA,GAEDtE,QAAQC,IAAIqE,GACZJ,EAAQI,IAIRJ,EAAQ,SAGZ,OAAO,WAELtG,OAED,CAACqG,EAAMN,IAEVhG,qBAAU,WAERxB,EAAG0B,WAAW,SAASE,QAAQ,YAAY,QAAQC,YAAW,SAAAC,GAG5DwF,EAASxF,EAASC,KAAKC,KAAI,SAACL,GAC1B,MAAO,CACLyG,GAAIzG,EAAIyG,GACRC,KAAM1G,EAAIM,iBAIf,IA8DD,sBAAKC,UAAU,MAAf,UAEE,wBAAQA,UAAU,aAAlB,SAEE,sBAAKA,UAAY,mBAAjB,UACE,qBAAKG,IAAI,oFAAoFD,IAAI,KAChG0F,EACD,qBAAK5F,UAAU,4CAAf,SACsB,KAAnB4F,EAAKrE,YAAoB,cAAC,EAAD,CAAazC,OAAQ8G,EAAKrE,cAAmB,iDAKxE,sBAAKvB,UAAU,qDAAf,UAEW,cAACgB,EAAA,EAAD,CAAQ8D,QAAQ,WAAW9E,UAAU,oBAAoBmB,QAAS,kBAAK4E,GAAc,IAArF,qBACA,cAAC/E,EAAA,EAAD,CAAQ8D,QAAQ,WAAW9E,UAAU,oBAAoBmB,QAAS,kBAAKkE,GAAQ,IAA/E,6BAMtB,cAAC5B,EAAA,EAAD,CACQC,KAAQA,EACRC,QAAW,kBAAM0B,GAAQ,IAFjC,SAIQ,qBAAKzB,MAAQT,EAAanD,UAAWkD,EAAQd,MAA7C,SACE,mCACE,qBAAKpC,UAAY,mBAAmBG,IAAI,oFAAoFD,IAAI,KAChI,uBAAMF,UAAY,mBAAlB,UACA,cAACU,EAAA,EAAD,CAAOK,YAAY,WAAWG,KAAK,OAAOP,MAAO2E,EACjD1E,SAAU,SAACC,GAAK0E,EAAY1E,EAAEC,OAAOH,UACrC,cAACD,EAAA,EAAD,CAAOK,YAAY,gBAAgBG,KAAK,OAAOP,MAAO6E,EACtD5E,SAAU,SAACC,GAAK4E,EAAS5E,EAAEC,OAAOH,UAClC,cAACD,EAAA,EAAD,CAAOK,YAAY,WAAWG,KAAK,WAAWP,MAAO+E,EACrD9E,SAAU,SAACC,GAAK8E,EAAY9E,EAAEC,OAAOH,UACrC,cAACD,EAAA,EAAD,CAAOwF,GAAG,eAAetF,SAhGlB,SAACC,GACbA,EAAEC,OAAOgD,MAAM,IAChBb,EAASpC,EAAEC,OAAOgD,MAAM,KA8F0B5C,KAAK,SACjD,uBAAOkF,IAAI,eAAX,kCACA,cAACpF,EAAA,EAAD,CAAQE,KAAK,SAAQC,QA5FhB,SAACC,GACdA,EAAMC,iBACN5C,EAAK4H,+BAA+Bb,EAAOE,GAAUd,MAAK,SAACqB,GACzDA,EAASL,KAAKU,cAAc,CAC1B/E,YAAa+D,IAEfvH,IAASW,UAAUqF,IAAI,SAAWkC,EAASL,KAAKW,IAAM,gBAAgBtC,IAAIjB,GAAO4B,MAAK,WACpF7G,IAASW,UAAUqF,IAAI,SAAWkC,EAASL,KAAKW,IAAM,gBAAgB5B,iBAAiBC,MAAK,SAAAC,GAK1FlD,QAAQC,IAAIiD,MAGdlD,QAAQC,IAAI,2CAEb4E,OAAM,SAAAC,GACL9E,QAAQC,IAAI6E,EAAIhC,eAGnB+B,OAAM,SAACjC,GAAD,OAAWC,MAAMD,EAAME,YAC9BY,GAAQ,IAsEA,gCAMN,cAAC5B,EAAA,EAAD,CACEC,KAAQoC,EACRnC,QAAW,kBAAKoC,GAAc,IAFhC,SAIE,qBAAKnC,MAAQT,EAAanD,UAAWkD,EAAQd,MAA7C,SACE,mCACA,qBAAKpC,UAAY,mBAAmBG,IAAI,oFAAoFD,IAAI,KAC9H,uBAAMF,UAAY,mBAAlB,UACE,cAACU,EAAA,EAAD,CAAOK,YAAY,cAAcG,KAAK,OAAOP,MAAO6E,EACpD5E,SAAU,SAACC,GAAK4E,EAAS5E,EAAEC,OAAOH,UAClC,cAACD,EAAA,EAAD,CAAOK,YAAY,WAAWG,KAAK,WAAWP,MAAO+E,EACrD9E,SAAU,SAACC,GAAK8E,EAAY9E,EAAEC,OAAOH,UACrC,cAACK,EAAA,EAAD,CAAQG,QAhEL,SAACN,GACdA,EAAEQ,iBACF5C,EAAKiI,2BAA2BlB,EAAOE,GACtCc,OAAM,SAAAC,GAAQjC,MAAMiC,EAAIhC,YACzBsB,GAAc,IA4DqB7E,KAAK,SAA9B,+BAMR,8BAEAiE,EAAMrF,KAAI,gBAAEoG,EAAF,EAAEA,GAAIC,EAAN,EAAMA,KAAN,OACV,cAAC,EAAD,CAAenH,WAAY4G,EAAM7G,OAAQmH,EAAIpH,OAAQqH,EAAKrH,OAAQF,QAASuH,EAAKvH,QAASC,SAAWsH,EAAKtH,UAA9FqH,YC/MFS,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjC,MAAK,YAAkD,IAA/CkC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.6c36ac2e.chunk.js","sourcesContent":["import firebase from 'firebase';\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyB_m2Fyrr3oNsSsrLtdWNeEzRdf5encLUc\",\r\n    authDomain: \"instagram-clone-react-7fe48.firebaseapp.com\",\r\n    projectId: \"instagram-clone-react-7fe48\",\r\n    storageBucket: \"instagram-clone-react-7fe48.appspot.com\",\r\n    messagingSenderId: \"996781548725\",\r\n    appId: \"1:996781548725:web:777f526cf6ffab13c10afc\",\r\n    measurementId: \"G-E2KHRP1RR3\"\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport {db, auth, storage}","import React from 'react';\r\nimport {useEffect, useState} from 'react';\r\nimport {db} from './Firebase';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport firebase from 'firebase';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faComments,faHeart,faCloudDownloadAlt, faShare } from '@fortawesome/free-solid-svg-icons'\r\nimport {Button, Input} from '@material-ui/core';\r\n\r\nfunction Post({caption, imageURL, header,postId,signInUser}) {\r\n    const [comments, setComments] = useState([]);\r\n    const [comment, setComment] = useState('')\r\n    const postComment = (event) => {        \r\n            event.preventDefault()\r\n            db.collection(\"posts\").doc(postId).collection(\"comments\").add({\r\n            caption: comment,\r\n            header: signInUser.displayName,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n        setComment('');\r\n    }\r\n    useEffect(() => {\r\n        let unsubscribe;\r\n        if(postId){\r\n            unsubscribe = db\r\n            .collection(\"posts\")\r\n            .doc(postId)\r\n            .collection('comments')\r\n            .orderBy('timestamp', 'asc')\r\n            .onSnapshot((snapshot)=>{\r\n                setComments(snapshot.docs.map(doc =>doc.data()));\r\n            });\r\n        }\r\n        return () => {\r\n            unsubscribe();\r\n        }\r\n    }, [postId]);\r\n        return (\r\n        <div className=\"Post\">\r\n            <div className = \"post__header\">\r\n                {/* header = (avatar + username) */}\r\n                <Avatar alt={header} src=\"F\"/><h3 className = \"post__heading\">{header}</h3>\r\n            </div>\r\n            {/* image */}\r\n            <img className = \"post__image\"src={imageURL} alt={imageURL}/>\r\n            <div className=\"post__likeSection\">\r\n                <FontAwesomeIcon className=\"post__likeIcon\"icon={faHeart} size=\"lg\"/>\r\n                <FontAwesomeIcon className=\"post__commentIcon\"icon={faComments} size=\"lg\"/>\r\n                <FontAwesomeIcon className=\"post__shareIcon\"icon={faShare} size=\"lg\"/>\r\n                <FontAwesomeIcon className=\"post__saveIcon\" icon={faCloudDownloadAlt} size=\"lg\"/>\r\n            </div>\r\n            {/* username + captiom */}\r\n            <h4 className=\"post__username\"><strong>{header}</strong> {caption}</h4>\r\n            <div className=\"Post__Comments\">\r\n            {comments.map((comment)=>(\r\n                    <p>\r\n                        <b>{comment.header}</b> {comment.caption}\r\n                    </p>\r\n            ))}\r\n            {/* here the comment will come */}\r\n            {signInUser?(\r\n            <form className=\"Post__commentInput\">\r\n            <Input value={comment} onChange={(e)=>setComment(e.target.value)} className=\"post__comment\"placeholder=\"Add a Comment\"/>\r\n            <Button \r\n                disabled={!comment}\r\n                className=\"post__commentButton\"\r\n                type=\"submit\"\r\n                onClick={postComment}\r\n            > \r\n                Post\r\n            </Button>\r\n            </form>):\r\n            (console.log('User Not Signed in!'))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport {Button, Input} from '@material-ui/core';\r\nimport {useState} from 'react';\r\nimport firebase from 'firebase';\r\nimport {db, auth,storage} from './Firebase';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nimport './App.css';\r\n\r\nfunction getModalStyle () {\r\n    const top = 50;\r\n    const left = 50;\r\n  \r\n    return {\r\n      top: `${top}%`,\r\n      left: `${left}%`,\r\n      transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      position: 'absolute',\r\n      width: 400,\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n  }));\r\nconst ImageUpload = ({header}) => {\r\n    // below are the useStates, so they will be created whenever something needs to be changed dynamically.\r\n    const [image, setImage] = useState(null);\r\n    const classes = useStyles();\r\n    const [modalStyle] = useState(getModalStyle);\r\n    const [progress, setProgress] = useState(0);\r\n    const [caption, setCaption] = useState('');\r\n    const [uploadPost, setUploadPost] = useState(false)\r\n\r\n    // below are the functions that I am using which are declared in the return method\r\n    const handleChange = (e) =>{\r\n        if(e.target.files[0]){\r\n            setImage(e.target.files[0])\r\n        }\r\n    };\r\n    const handleUpload = (e) =>{\r\n        e.preventDefault();\r\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n        uploadTask.on(\r\n            \"state_changed\", \r\n            (snapshot) => {\r\n                const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100); \r\n                setProgress(progress);\r\n            }, (error) => {\r\n                alert(error.message)\r\n            }, () => {\r\n                storage\r\n                .ref(\"images\")\r\n                .child(image.name)\r\n                .getDownloadURL()\r\n                .then(url =>{\r\n                    // here I am posting the image to the database\r\n                    db.collection(\"posts\").add({\r\n                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                        caption: caption,\r\n                        imageURL: url,\r\n                        header: header\r\n                    });\r\n                    setProgress(0);\r\n                    setCaption(\"\");\r\n                    setImage(null)\r\n                })\r\n                setUploadPost(false);\r\n            }\r\n        )\r\n    }\r\n  \r\n    return (\r\n     <div>\r\n        <div>\r\n            <Modal\r\n                open = {uploadPost}\r\n                onClose = {()=>setUploadPost(false)}>\r\n                <div style= {modalStyle} className={classes.paper}>\r\n                    <center>\r\n                    <img className = \"app__headerImage\" src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\"/>\r\n                    <form className = \"app__signupModal\">\r\n\r\n                        {/* The below are the actua+l fields whicch are being rendered on the frontend and these contain a function */}\r\n                        <progress className=\"ImageUpload__uploadPost__progress\" value={progress} max=\"100\"/>\r\n                        <Input type=\"file\" onChange={handleChange}/>\r\n                        <Input type=\"text\"onChange = {event => setCaption(event.target.value)} placeholder= \"Enter a caption...\" />\r\n                        <Button type=\"submit\"onClick={handleUpload}>Upload!</Button>\r\n                    </form>\r\n                    </center>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n        <div className=\"App__avLog App__headerImage__uploadButton\">\r\n            <Button variant=\"outlined\" className=\"App__signInButton\" onClick={()=>setUploadPost(true)}>Upload</Button>\r\n            <Button variant=\"outlined\" className=\"App__signInButton\" onClick = {() => auth.signOut()}>Logout</Button>\r\n            <Avatar alt={header} src=\"s\"className=\"App__avatarLetter\"/>\r\n        </div>\r\n\r\n    </div>\r\n    )\r\n}\r\nexport default ImageUpload;\r\n","import './App.css';\nimport Post from './Post';\nimport './Post.css';\nimport firebase from 'firebase';\nimport React, { useEffect, useState } from \"react\";\nimport {db, auth} from './Firebase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport {Button, Input} from '@material-ui/core';\nimport ImageUpload from './ImageUpload';\n\n\nfunction getModalStyle () {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     '& > *': {\n//       margin: theme.spacing(1),\n//     },\n//   },\n//   input: {\n//     display: 'none',\n//   },\n// }));\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  input: {\n    display: 'none',\n  },\n}));\nfunction App() {\n  const classes = useStyles();\n  const [modalStyle] = useState(getModalStyle);\n  const [posts, setPosts ] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [user, setUser] = useState(null);\n  const [userSignIn, setUserSignIn] = useState(false);\n  const [image, setImage] = useState(false);\n\n// for user authentication, this below useEffect is being used\n  useEffect(()=>{\n    const unsubscribe = auth.onAuthStateChanged((authUser)=>{\n      if(authUser){\n        // when the user has logged in \n        console.log(authUser);\n        setUser(authUser);\n      }\n      else{\n        // when the user logs out\n        setUser(null);\n      }\n    })\n    return () => {\n      // this code is performing the clean up action, so whenever the new username is changed then the entire useEffect will not be fired up(the above one console and everything )\n      unsubscribe();\n    }\n  }, [user, username]);\n  // useeffect is a hook which runs a piece of code  on a specific condition, this is for the post creation\n  useEffect(()=>{\n    // this is where the code runs \n    db.collection(\"posts\").orderBy('timestamp','desc').onSnapshot(snapshot=>{\n      // the snapshot listerner is provided by firebase and when any change will happen in the database, this will be fired up and run the code\n      // setPosts(snapshot.docs.map(doc=>doc.data()));\n      setPosts(snapshot.docs.map((doc)=>{\n        return {\n          id: doc.id,\n          post: doc.data()\n        }\n      }))\n    })\n  }, []);\n  // the below function is for uploading the profile Image\n  const dpChange = (e) =>{\n    if(e.target.files[0]){\n      setImage(e.target.files[0])\n    }\n  }\n  // the below is the signup function\n  const signup = (event) =>{\n    event.preventDefault();\n    auth.createUserWithEmailAndPassword(email, password).then((authUser) =>{\n      authUser.user.updateProfile({\n        displayName: username\n      })\n      firebase.storage().ref('users/' + authUser.user.uid + '/profile.jpg').put(image).then(()=>{\n        firebase.storage().ref('users/' + authUser.user.uid + '/profile.jpg').getDownloadURL().then(url=>{\n          // // {<ImageUpload avatarLink={authUser.url}/>}\n          // authUser.user.url({\n          //   profileURL: url\n          // })\n          console.log(url)\n\n        });\n        console.log('succcessfully uploaded profile Image')\n      })\n      .catch(err=>{\n        console.log(err.message);\n      });\n    })\n    .catch((error) => alert(error.message))\n    setOpen(false)\n    // const uploadTask = storage.ref(`profile_images/${image.name}`).put(image);\n    // uploadTask.on(\n    //   \"state_changed\",\n    //     (snapshot) => {},\n    //     (error) =>{\n    //       console.log(error.message)\n    //     },\n    //     () => {\n    //       storage\n    //       .ref(\"profile_images\")\n    //       .child(image.name)\n    //       .getDownloadURL()\n    //       .then(url =>{\n    //         db.collection('profileImages').add(\n    //           {profileImage: url}\n    //         )\n    //         console.log(url)\n    //       })\n    //     }\n    // )\n\n  }\n  // sign in function \n  const signIn = (e) => {\n    e.preventDefault();\n    auth.signInWithEmailAndPassword(email, password)\n    .catch(err => {alert(err.message)})\n    setUserSignIn(false)\n  }\n\n  return (\n    <div className=\"App\">\n        \n      <header className=\"App-header\">\n        {/* Main header */}\n        <div className = \"app__headerImage\">\n          <img src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\"/>\n          {user ? (\n          <div className=\"App__avLog App__headerImage__uploadButton\">\n            {user.displayName!==\"\" ? (<ImageUpload header={user.displayName}/>) : (<h3>NOT SIGNED IN</h3>)}\n              {/* <Button variant=\"outlined\" className=\"App__signInButton\" onClick = {() => auth.signOut()}>Logout</Button>\n              <Avatar className=\"App__avatarLetter\" /> */}\n          </div>\n          ):\n          (<div className=\"app__loginContainer App__headerImage__uploadButton\">\n                    {/* this is used when the user is signed in */}\n                      <Button variant=\"outlined\" className=\"App__signInButton\" onClick={()=> setUserSignIn(true)}>Sign In</Button>\n                      <Button variant=\"outlined\" className=\"App__signUpButton\" onClick={()=> setOpen(true)}>Sign Up</Button>\n            </div>)\n            }\n        </div>\n      </header>\n{/*the below modal is for the sign up button  */}\n<Modal\n        open = {open}\n        onClose = {() => setOpen(false)}\n      >\n        <div style= {modalStyle}  className={classes.paper}>\n          <center>\n            <img className = \"app__headerImage\" src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\"/>\n            <form className = \"app__signupModal\">\n            <Input placeholder=\"Username\" type=\"text\" value={username} \n            onChange={(e)=>{setUsername(e.target.value)}}/>\n            <Input placeholder=\"Email Address\" type=\"text\" value={email} \n            onChange={(e)=>{setEmail(e.target.value)}}/>\n            <Input placeholder=\"Password\" type=\"password\" value={password} \n            onChange={(e)=>{setPassword(e.target.value)}}/>\n            <Input id=\"profileImage\" onChange={dpChange}type=\"file\"/>\n            <label for=\"profileImage\" >Upload Profile Image</label>\n            <Button type=\"submit\"onClick={signup}> Sign Up</Button>\n          </form>\n          </center>\n        </div>\n      </Modal>\n      {/* thhe below is the modal for the sign in button  */}\n      <Modal\n        open = {userSignIn}\n        onClose = {()=> setUserSignIn(false)}\n      >\n        <div style= {modalStyle}  className={classes.paper}>\n          <center>\n          <img className = \"app__headerImage\" src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\"/>\n            <form className = \"app__signupModal\">\n              <Input placeholder=\"Enter Email\" type=\"text\" value={email} \n              onChange={(e)=>{setEmail(e.target.value)}}/>\n              <Input placeholder=\"Password\" type=\"password\" value={password} \n              onChange={(e)=>{setPassword(e.target.value)}}/>\n              <Button onClick={signIn} type=\"submit\">Sign In</Button>\n            </form>\n          </center>\n        </div>\n      </Modal>\n      \n      <div>\n      {\n      posts.map(({id, post})=>(\n      <Post key={id} signInUser={user} postId={id} header={post.header} caption={post.caption} imageURL ={post.imageURL}/>\n      ))\n      }\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}